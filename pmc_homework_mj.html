<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Denise 2</title>
    <style>
       div{}
       .cell {
           height: 20px; /*previously 10px*/
           width: 20px; /*previously 10px*/
           float: left;
           border-style:solid;
           border-width:medium;
       }
       .row {
           clear: left;
       }
       .live {
           background-color: green;
       }
    </style>

</head>
<body>
<div id="board"></div>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript">
    $('document').ready(function() {
        function generateBoard(){
            var width = 20; //previously 10
            var height = 20; //previously 10
            var board = document.getElementById("board");
            $("#board").html("");
            currently_alive = {};
            for(var row_num = 0; row_num < height; row_num++){
                var row = document.createElement("div");
                row.className = "row";
                for(var col_num = 0; col_num < width; col_num++){
                    var cell = document.createElement("div");
                    var cell_id = col_num + "-" + row_num;
                    cell.id = cell_id;
                    cell.className = "cell";
                    row.appendChild(cell);
                }
                board.appendChild(row);
            }
        };

        function drawGeneration (liveCells) {
            $(".live").removeClass("live");
            $.each(liveCells, function() {
                // Find the cell
                $("#" + this[0] + "-" + this[1]).addClass("live");
            });
        }

        function getNextGeneration() {
            // What does this generation look like
            var liveCells = [];
            var cell;
            $(".live").each( function() {
                cell = this.id.split("-");
                liveCells.push(cell);
            });

            // Make the call
            var data = { 
                'M': 20, //previously 10
                'N': 20, //previously 10
                'liveCells' : liveCells
            };

            $.ajax({
                //url: 'http://ben-charas-etsy-homework.herokuapp.com/nextGen', //Ben Charas
                //url: 'http://localhost:8080/getNewGeneration', //Edwin Zhang
                //url: 'http://bash.sh:4567/life', // Andrew Mullholland
                //url: 'http://enigmatic-scrubland-2726.herokuapp.com/next-generation', // denise
                url: 'http://fast-meadow-2121.herokuapp.com/nextgen', //Michelle
                jsonp: 'callback',
                dataType: 'jsonp',
                data: data,
                traditional: true,
                success: function(response) {
                            drawGeneration(response);
                            setTimeout(getNextGeneration, 1000);
                }
            });

        }

        generateBoard();
        //drawGeneration([[2,1],[2,2],[2,3]]); // Basic homework
        //drawGeneration([[1,1],[2,2],[3,3]]); // Diagonal 
        //drawGeneration([[1,2],[2,2],[2,3],[6,3],[7,1],[7,3],[8,3]]); // Diehard
        //drawGeneration([[7,7], [7,8], [8,8], [8,7], [10,6], [10,5], [9,6], [9,5]]); //beacon
        //drawGeneration([[7,4], [7,6], [6,6], [9,5], [10,6], [11,6], [12,6]]); //acorn
        //drawGeneration([[9,4], [8,5], [8,6], [10,7], [11,5], [11,6]]); //toad
        drawGeneration([[1,2], [2,3], [3,1], [3,2], [3,3]]); //glider
        setTimeout(getNextGeneration, 1000);

    });
</script>
</body>
</html>
